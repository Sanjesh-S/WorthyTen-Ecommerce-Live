<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>My Account - WorthyTen</title>
  <meta name="description"
    content="Manage your WorthyTen account, view device selling history, track pickup requests, and manage your wallet balance." />
  <meta name="keywords" content="my account, profile, wallet, coins, WorthyTen account, user profile" />
  <meta name="author" content="WorthyTen" />
  <meta name="robots" content="noindex, nofollow" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://worthyten.com/account.html" />
  <meta property="og:title" content="My Account - WorthyTen" />
  <meta property="og:description"
    content="Manage your WorthyTen account, view device selling history, and track pickup requests." />
  <meta property="og:image" content="https://worthyten.com/images/og-image.jpg" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://worthyten.com/account.html" />
  <meta name="twitter:title" content="My Account - WorthyTen" />
  <meta name="twitter:description"
    content="Manage your WorthyTen account, view device selling history, and track pickup requests." />
  <meta name="twitter:image" content="https://worthyten.com/images/twitter-image.jpg" />

  <link rel="canonical" href="https://worthyten.com/account.html" />
  <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
  <link href="css/style.css" rel="stylesheet" />
  <script src="js/logger.js"></script>
  <script src="js/accessibility.js"></script>
  <style>
    .account-page-layout {
      max-width: 1100px;
      margin: 0 auto;
      padding: 40px 24px;
    }

    .account-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .account-header h1 {
      font-size: 2rem;
      color: var(--primary);
      margin-bottom: 8px;
    }

    .account-header p {
      color: var(--muted);
    }

    .account-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 32px;
      border-bottom: 2px solid var(--border);
      padding-bottom: 0;
      overflow-x: auto;
    }

    .account-tab {
      padding: 14px 24px;
      background: none;
      border: none;
      cursor: pointer;
      font-family: inherit;
      font-size: 1rem;
      font-weight: 600;
      color: var(--muted);
      border-bottom: 3px solid transparent;
      margin-bottom: -2px;
      transition: all 0.3s;
      white-space: nowrap;
    }

    .account-tab:hover {
      color: var(--primary);
    }

    .account-tab.active {
      color: var(--primary);
      border-bottom-color: var(--primary);
    }

    .account-tab i {
      margin-right: 8px;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* Profile Tab */
    .profile-section {
      max-width: 500px;
      margin: 0 auto;
    }

    .profile-card {
      background: white;
      border-radius: 16px;
      padding: 32px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
    }

    .coin-balance-card {
      background: linear-gradient(135deg, var(--primary), #2d6db5);
      color: white;
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 24px;
      text-align: center;
    }

    .coin-balance-card .label {
      opacity: 0.9;
      margin-bottom: 8px;
    }

    .coin-balance-card .amount {
      font-size: 2.5rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }

    .coin-balance-card i {
      font-size: 2rem;
    }

    /* Orders Tab */
    .orders-section {
      min-height: 300px;
    }

    .orders-empty {
      text-align: center;
      padding: 60px 20px;
      color: var(--muted);
    }

    .orders-empty i {
      font-size: 4rem;
      margin-bottom: 16px;
      opacity: 0.3;
    }

    .orders-empty h3 {
      margin-bottom: 8px;
      color: var(--text);
    }

    .orders-empty a {
      color: var(--primary);
      font-weight: 600;
    }

    .order-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .order-card {
      background: white;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
    }

    .order-card-header {
      display: grid;
      grid-template-columns: auto 1fr auto;
      gap: 20px;
      align-items: center;
    }

    .order-device-image {
      width: 80px;
      height: 80px;
      background: var(--surface);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .order-device-image img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }

    .order-device-image i {
      font-size: 2rem;
      color: var(--muted);
    }

    .order-details h4 {
      color: var(--primary);
      margin-bottom: 4px;
    }

    .order-details .order-meta {
      font-size: 0.9rem;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .order-details .order-price {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--accent);
    }

    .order-status-section {
      text-align: right;
    }

    .order-status {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .order-status.pending {
      background: #fff3cd;
      color: #856404;
    }

    .order-status.scheduled {
      background: #cce5ff;
      color: #004085;
    }

    .order-status.picked-up {
      background: #d4edda;
      color: #155724;
    }

    .order-status.completed {
      background: #d4edda;
      color: #155724;
    }

    .order-status.cancelled {
      background: #f8d7da;
      color: #721c24;
    }

    .order-date {
      font-size: 0.85rem;
      color: var(--muted);
      margin-top: 8px;
    }

    /* Status Timeline */
    .status-timeline {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid var(--border);
    }

    .timeline-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 1;
      position: relative;
    }

    .timeline-step::before {
      content: '';
      position: absolute;
      top: 15px;
      left: 50%;
      right: -50%;
      height: 3px;
      background: var(--border);
    }

    .timeline-step:last-child::before {
      display: none;
    }

    .timeline-step.completed::before {
      background: var(--primary);
    }

    .timeline-dot {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1;
      margin-bottom: 8px;
    }

    .timeline-step.completed .timeline-dot {
      background: var(--primary);
      color: white;
    }

    .timeline-step.current .timeline-dot {
      background: var(--accent);
      color: white;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {

      0%,
      100% {
        box-shadow: 0 0 0 0 rgba(255, 138, 0, 0.4);
      }

      50% {
        box-shadow: 0 0 0 10px rgba(255, 138, 0, 0);
      }
    }

    .timeline-label {
      font-size: 0.75rem;
      color: var(--muted);
      text-align: center;
    }

    .timeline-step.completed .timeline-label,
    .timeline-step.current .timeline-label {
      color: var(--text);
      font-weight: 600;
    }

    /* Loading state */
    .loading-spinner {
      display: flex;
      justify-content: center;
      padding: 40px;
    }

    .loading-spinner i {
      font-size: 2rem;
      color: var(--primary);
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      from {
        transform: rotate(0deg);
      }

      to {
        transform: rotate(360deg);
      }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .order-card-header {
        grid-template-columns: 1fr;
        text-align: center;
      }

      .order-device-image {
        margin: 0 auto;
      }

      .order-status-section {
        text-align: center;
      }

      .status-timeline {
        flex-wrap: nowrap;
        gap: 8px;
      }

      .timeline-step {
        flex: 1;
        min-width: 0;
      }

      .timeline-step::before {
        display: none;
      }

      .timeline-label {
        font-size: 0.65rem;
      }

      .account-tabs {
        justify-content: center;
      }
    }
  </style>
</head>

<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <div id="header"></div>
  <script src="js/header.js"></script>

  <main id="main-content" class="main-container">
    <div class="account-page-layout">

      <div class="account-header">
        <h1><i class="fa-solid fa-user-circle"></i> My Account</h1>
        <p id="welcome-message">Manage your profile and track your orders</p>
      </div>

      <!-- Tabs -->
      <div class="account-tabs" role="tablist">
        <button class="account-tab active" data-tab="profile" role="tab" aria-selected="true">
          <i class="fa-solid fa-user"></i> Profile
        </button>
        <button class="account-tab" data-tab="orders" role="tab" aria-selected="false">
          <i class="fa-solid fa-box"></i> My Orders
        </button>
      </div>

      <!-- Profile Tab -->
      <div class="tab-content active" id="tab-profile" role="tabpanel">
        <div class="profile-section">

          <!-- Coin Balance -->
          <div class="coin-balance-card">
            <p class="label">Your WorthyTen Coins</p>
            <div class="amount">
              <i class="fa-solid fa-coins"></i>
              <span id="account-coin-balance">0</span>
            </div>
          </div>

          <!-- Profile Form -->
          <div class="profile-card">
            <form id="account-form" aria-label="Profile information form">
              <div class="form-group">
                <label for="account-phone">Mobile Number (Cannot be changed)</label>
                <input type="tel" id="account-phone" class="form-input" readonly disabled aria-readonly="true" />
              </div>
              <div class="form-group">
                <label for="account-name">Full Name</label>
                <input type="text" id="account-name" class="form-input" placeholder="Enter your full name"
                  aria-describedby="name-help" />
                <span id="name-help" class="sr-only">Enter your full name as it appears on ID</span>
              </div>
              <div class="form-group">
                <label for="account-email">Email Address</label>
                <input type="email" id="account-email" class="form-input" placeholder="Enter your email"
                  aria-describedby="email-help" />
                <span id="email-help" class="sr-only">Enter a valid email address for notifications</span>
              </div>

              <p id="account-form-status" role="status" aria-live="polite"
                style="display: none; text-align: center; font-weight: 600;"></p>

              <div class="pickup-modal-actions" style="margin-top: 20px;">
                <button type="submit" id="save-profile-btn" class="cta-button"
                  aria-label="Save profile information">Save Profile</button>
              </div>
            </form>

            <hr class="sidebar-divider" role="separator" style="margin: 24px 0;">

            <div class="pickup-modal-actions" style="justify-content: center;">
              <button type="button" id="logout-btn" class="logout-btn" aria-label="Log out of your account">Log
                Out</button>
            </div>
          </div>

        </div>
      </div>

      <!-- Orders Tab -->
      <div class="tab-content" id="tab-orders" role="tabpanel">
        <div class="orders-section">
          <div class="loading-spinner" id="orders-loading">
            <i class="fa-solid fa-spinner"></i>
          </div>

          <div id="orders-list" class="order-list" style="display: none;">
            <!-- Orders will be dynamically inserted here -->
          </div>

          <div id="orders-empty" class="orders-empty" style="display: none;">
            <i class="fa-solid fa-box-open"></i>
            <h3>No orders yet</h3>
            <p>You haven't sold any devices yet.<br><a href="index.html">Start selling now →</a></p>
          </div>
        </div>
      </div>

    </div>
  </main>

  <!-- Aria live region for dynamic updates -->
  <div id="aria-live-region" aria-live="polite" aria-atomic="true" class="sr-only"></div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-main">
      <div class="footer-container">
        <div class="footer-column">
          <h3 class="footer-logo">WorthyTen</h3>
          <p class="footer-description">Sell your old devices instantly and get the best price.</p>
          <div class="footer-social">
            <a href="https://www.facebook.com/worthyten" target="_blank" rel="noopener noreferrer" aria-label="Facebook"
              class="social-link"><i class="fa-brands fa-facebook"></i></a>
            <a href="https://www.instagram.com/worthytenofficial/" target="_blank" rel="noopener noreferrer"
              aria-label="Instagram" class="social-link"><i class="fa-brands fa-instagram"></i></a>
            <a href="https://www.youtube.com/@WorthyTen" target="_blank" rel="noopener noreferrer" aria-label="YouTube"
              class="social-link"><i class="fa-brands fa-youtube"></i></a>
          </div>
        </div>
        <div class="footer-column">
          <h4 class="footer-title">Quick Links</h4>
          <ul class="footer-links">
            <li><a href="index.html#how-it-works">How It Works</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="our-stores.html">Our Stores</a></li>
            <li><a href="contact.html">Contact Us</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4 class="footer-title">Policies</h4>
          <ul class="footer-links">
            <li><a href="privacy-policy.html">Privacy Policy</a></li>
            <li><a href="terms-conditions.html">Terms & Conditions</a></li>
            <li><a href="warranty-policy.html">Warranty Policy</a></li>
            <li><a href="refund-policy.html">Return/Refund Policy</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4 class="footer-title">Contact Us</h4>
          <ul class="footer-contact">
            <li><i class="fa-solid fa-envelope"></i><a href="mailto:support@worthyten.com">support@worthyten.com</a>
            </li>
            <li><i class="fa-solid fa-phone"></i><a href="tel:+919843010746">+91 98430 10746</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <div class="footer-container">
        <div class="footer-bottom-content">
          <p class="copyright">© <span id="yearNow"></span> WorthyTen Recommerce Pvt Ltd. All rights reserved.</p>
        </div>
      </div>
    </div>
  </footer>

  <script src="js/ui.js" defer></script>
  <script src="js/lazy-loading.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script defer src="js/firebase-config.js"></script>
  <script defer src="js/login.js"></script>
  <script defer src="js/account.js"></script>
  <script>document.getElementById('yearNow').textContent = new Date().getFullYear();</script>
</body>

</html>